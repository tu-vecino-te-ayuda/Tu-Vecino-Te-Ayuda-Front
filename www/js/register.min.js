function initValues(){let e=$(".ayuda-provincia"),a=$(".ayuda-ciudad");e.empty(),a.empty(),e.append('<option selected="true" value="" disabled>--Seleccione provincia--</option>'),e.prop("selectedIndex",0),a.append('<option selected="true" value="" disabled>--Seleccione Ciudad--</option>'),a.prop("selectedIndex",0),$.each(provincias,function(a,n){e.append($("<option></option>").attr("value",n.id).text(n.nm))}),e.change(function(){var e=$(this).val();a.empty(),a.append('<option selected="true" value="" disabled>--Seleccione Ciudad--</option>'),a.prop("selectedIndex",0),a.prop("disabled",!1),$.each(ciudades,function(n,r){r.id.substring(0,2)==e&&a.append($("<option></option>").attr("value",r.id).text(r.nm))})})}function getDataForm(e){e.preventDefault();var a={},n="";$.each(e.originalEvent.srcElement.elements,function(e,r){if(n=checkValues(r.name,r.value),$(".error").remove(),""!=n)return $("#"+r.name).after("<small class='error'><p style='text-align:center; color:red'><strong>"+n+"</strong></p></small>"),!1;a[r.name]=r.value});let r=$("#checkLegal").is(":checked");return $(".user-form-check").css("color",r?"#212529":"red"),$(".user-form-check").css("font-weight",r?"normal":"bold"),""==n&&r?a:null}function checkValues(e,a){var n="";switch(e){case"name":a.length<3&&(nameregex=/^[a-zA-Z ]+$/,nameregex.test(a)||(n="Conflicto en Nombre y Apellidos<br>"));break;case"email":emailRegex=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,emailRegex.test(a)||(n="Conflicto en Email<br>");break;case"phone":(a.length<8||a.length>12)&&(n="Conflicto en Teléfono<br>");break;case"password":tempPassword=a,a.length<8&&(n="Conflicto en Contraseña<br>");break;case"password_confirmation":(a.length<8||a!=tempPassword)&&(n="Conflicto en Las contraseñas son distintas<br>");break;case"nearby_areas_id":""==a&&(n="Conflicto en Preferencias de desplazamiento<br>");break;case"state":""==a&&(n="Conflicto en Provincia<br>");break;case"city":""==a&&(n="Conflicto en Ciudad<br>");break;case"address":a.length<5&&(n="Conflicto en Dirección<br>");break;case"zip_code":a.length<5&&(n="Conflicto en Código Postal<br>");break;case"cif":a.length<2&&(n="Conflicto en CIF<br>");break;case"corporate_name":a.length<4&&(n="Conflicto en Nombre de la Asociación<br>");break;case"activity_areas_id":0==a&&(n="Conflicto en Área de actividad<br>")}return n}function errorServer(e){$.each(e,function(e,a){return $(".error").remove(),$("#"+e).after("<small class='error'><p style='text-align:center; color:red'><strong>"+a+"</strong></p></small>"),$("input[name="+e+"]").focus(),$("input[name="+e+"]").val(""),!1})}function postData(e){$.ajax({type:"POST",url:server+"api/public/auth/register",data:e,dataType:"json"}).then(function(e){window.location.href="./registro-confirmado"}).fail(function(e){e.responseJSON&&e.responseJSON.errors&&errorServer(e.responseJSON.errors)})}var tempPassword="";$(document).ready(function(){initValues(),$("#form-help, #form-vol, #form-ent").submit(function(e){var a=getDataForm(e);null!=a&&postData(a)}),$("input").blur(function(){if(error=checkValues(this.name,this.value),$(".error").remove(),""!=error)return $("#"+this.name).after("<small class='error'><p style='text-align:center; color:red'><strong>Error en el campo "+this.name+"</strong></p></small>"),!1})}),function(){"use strict";window.addEventListener("load",function(){var e=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(e,function(e){e.addEventListener("submit",function(a){!1===e.checkValidity()&&(a.preventDefault(),a.stopPropagation()),e.classList.add("was-validated")},!1)})},!1)}();